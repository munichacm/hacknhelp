<dom-module id="social-post">
    <style>
        :host {
            display: block;
            color: var(--social-font-color);
        }

        .post-meta,
        .post-meta > *,
        .post-content {
            display: block;
        }

        .post-content {
            margin-top: 5px;
            font-size: 20px;
            line-height: 1.2;
        }

        a {
            color: var(--social-font-color);
        }

        time {
            font-size: 16px;
        }

        @media (min-width: 601px) {
            .post-content {
                margin-top: 10px;
            }
        }
    </style>
    <template>
        <span class="post-meta">
            <a href="{{_calculateUrl(author)]]" target="_blank">
                <span>[[sign]]</span>
                <span>[[author]]</span>
            </a>
            <time is="time-ago" datetime$="[[when]]"></time>
        </span>
        <span id="postContent" class="post-content"></span>
    </template>
</dom-module>

<script src="../../bower_components/time-elements/time-elements.js"></script>

<script>
    Polymer({
        is: 'social-post',
        properties: {
            author: {
                type: String,
                value: 'GDGLviv'
            },
            url: {
                type: String
            },
            text: {
                type: String,
                observer: '_textChanged',
                value: 'Tweet us about your experience at GDG DevFest Ukraine 2015'
            },
            when: {
                type: Date
            },
            canonicalUrl: {
                type: String
            },
            sign: {
                type: String
            }
        },
        _textChanged: function() {
            this.$.postContent.innerHTML = this.text;
        },
        _calculateUrl: function(author) {
            return this.canonicalUrl + author;
        }
    });
</script>
